<article class="space-y-2">
  <div class="relative pb-[56.25%] ">
    <iframe
      src="<%= clear.embed_link %>"
      class="absolute top-0 left-0 w-full h-full"
    ></iframe>
  </div>
  <div class="flex space-x-1 items-center">
    <div
    tabindex="0"
      class="
        badge
        <%= clear.stageable.color(:badge) %>
        xs:badge-lg
        rounded-sm
        max-w-64
        line-clamp-1
        xs:line-clamp-none
      "
    >
      <%= clear.stageable.label %>
    </div>
    <%= render Clears::VerificationDetailsComponent.new(clear: clear) %>
    <%= render Clears::VerificationComponent.new(clear: clear) %>
  </div>
  <div class="md:flex justify-between">
    <h2 class="flex text-2xl font-bold items-center gap-1">
      <%= render Stages::CodeComponent.new(stage: clear.stage, class: "h-6")  %>
      <% if can?(:edit, clear) %>
        <%= link_to edit_clear_path(clear), class: 'btn btn-primary btn-sm' do %>
          <%= t(:update_clear) %>
        <% end %>
      <% end %>
    </h2>
  </div>
  <div class="md:flex justify-between">
    <div>
      <div class="flex" tabindex="0">
        <span class="hidden xs:inline-block"><%= t(:submitted_by) %>&nbsp;</span>
        <a href="#" class="inline-block">
          <%= clear.player_name %>
        </a>
        <span class="before:content-['\00B7\20'] before:pl-1 inline-block"><%= time_ago_in_words(clear.created_at) + " " + t(:ago) %></span>
      </div>
      <% if verification %>
        <div class="" tabindex="0">
          <%= t(verification.accepted? ? :verified_by : :declined_by, verification: verification, username: verification.verifier.username) %>
          <span class="before:content-['\00B7\20'] before:pl-1"><%= time_string(verification.created_at) %></span>
        </div>
      <% end %>
    </div>
    <section class="flex items-center space-x-4">
      <%= render Clears::LikeBigComponent.new(clear: clear) %>
    </section>
  </div>
  <section class="card shadow-xl bg-base-200">
    <div class="card-body">
      <h3 class="card-title">
        <%= t(:squad) %></h3>
      <span class="divider m-0"></span>
      <div class="flex justify-center">
        <div id="clears_operators" class="grid grid-cols-1 xs:grid-cols-2 sm:flex sm:flex-wrap gap-2">
          <% clear.used_operators.each do |used_operator| %>
            <%= render Clears::UsedOperatorComponent.new(
              used_operator: used_operator,
              editable: false
            ) %>
          <% end %>
        </div>
      </div>
    </div>
  </section>
</article>
