<%= turbo_frame_tag Clear.new do %>
  <div class="space-y-2 xl:space-y-0 xl:grid xl:grid-cols-2 xl:gap-2 ">
    <% @clears.each do |clear| %>
      <div class="">
        <div class="card bg-base-200 shadow-xl cursor-pointer hover:outline hover:outline-primary hover:bg-base-content hover:bg-opacity-10">
          <div class="flex space-y-1 xs:space-y-0 xs:space-x-1 flex-col xs:flex-row ">
            <div class="badge xs:badge-lg rounded-sm badge-success text-success-content">
              Verified
            </div>
            <div class="badge xs:badge-lg rounded-sm <%= 'badge-warning' if clear.event? %> max-w-64 line-clamp-1 xs:line-clamp-none">
              <%= stageable_name(clear) %>
            </div>
          </div>
          <div class="card-body pb-2 pt-2">
            <div class="flex flex-col md:flex-row items-start md:items-center">
              <div class="flex md:space-x-0 flex-col  w-full md:w-48">
                <h2 class="card-title"><%= clear.stage.code %></h2>
                <div class="flex space-x-2 w-full">
                  <div class="text-base-content-subdued">by <%= clear.player_name %></div>
                </div>
              </div>
              <div class="grid grid-cols-5 xs:grid-cols-7">
                <div class="border border-neutral-content/20 flex items-center justify-center xl:w-12 xl:h-12 sm:w-16 sm:h-16 w-12 h-12"><%= clear.used_operators.size %></div>
                <% 13.times do |i| %>
                  <% if (operator = clear.used_operators[i]) %>
                    <%# TODO: When hover expand and display stat? %>
                    <%= image_tag operator.avatar, class: 'xl:w-12 sm:w-16 w-12 border border-neutral-content/20', alt: operator.name %>
                  <% else %>
                    <div class="xl:w-12 xl:h-12 sm:w-16 sm:h-16 w-12 h-12 text-xs border border-neutral-content/20 flex flex-col items-center justify-center ">
                      <span>NO</span>
                      <span>INFO</span>
                    </div>
                  <% end %>
                <% end %>
              </div>
            </div>
            <div class="card-actions  text-base-content-subdued justify-between">
              <div class="text-base-content-subdued"><%= time_ago_in_words clear.created_at %> ago</div>
              <div class="group">
                <i class="fa-regular fa-heart group-hover:hidden"></i>
                <span class="hidden group-hover:inline"><i class="fa-solid fa-heart text-primary"></i></span>
                50
              </div>
            </div>
          </div>
        </div>
      </div>
    <%  end %>
  </div>
<%  end %>
