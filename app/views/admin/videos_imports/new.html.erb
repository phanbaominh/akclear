<%= simple_form_for @spec, as: :videos_import, method: :post, url: admin_videos_imports_url do |f| %>
  <%= turbo_frame_tag 'videos_import__channels' do %>
    <%= content_tag :div, data: { **stimulus(:click_other) } do %>
      <%= f.input :all_channels,  as: :boolean, input_html: {
      class: '!toggle', data: { **stimulus_attrs(:click_other, actions: { click: 'clickOther'}) } } %>
      <%= content_tag :button, nil, class: 'hidden', formmethod: "GET",
      formaction: new_admin_videos_import_url,
      data: { **stimulus_attrs(:click_other, target: 'clickable') } %>
      <% unless @spec.all_channels? %>
        <%= f.input :channel_ids, label: 'Channels', as: :select, collection: Channel.all,
        input_html: { multiple: true }, wrapper_html: { data: { **stimulus(:choices, values: { choices_options: { removeItemButton: true }}) } } %>
      <% end %>
    <% end %>
  <% end %>
  <%= render Clears::StageSelectComponent.new(form: f) %>
  <%= f.button :submit, t("admin.videos_imports.new.submit") %>
<% end %>
